<div th:fragment="date-section">

    <div class="d-day-box common-body">
        <div class="title">Date</div>
        <div>
            <img src="/img/calender.png" alt="달력">
        </div>
        <div class="day-txt">
            <div class="d-day-date">2025.07.26<br>토요일 오후 1시 30분</div>
            <div class="d-day-result" id="d-day"></div>
        </div>
    </div>

    <script>
        function calculateDDay(targetDateStr) {
          const today = new Date();
          const target = new Date(targetDateStr);

          // 시간 부분을 자정으로 맞춤
          today.setHours(0, 0, 0, 0);
          target.setHours(0, 0, 0, 0);

          const diffTime = target - today;
          const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));

          const dDayText = diffDays > 0 ? `D-${diffDays}` :
                           diffDays === 0 ? 'D-Day' : `D+${Math.abs(diffDays)}`;
          document.getElementById("d-day").textContent = dDayText;
        }

        // 목표 날짜: 2025년 7월 26일
        calculateDDay("2025-07-26");
    </script>
</div>